# ğŸ” Authentication System - Visual Guide

## User Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PUBLIC PAGES                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         Home (/)
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â†“             â†“
Sign In      Sign Up
(login)      (register)
    â†“             â†“
  Login Page  Register Page
    â†“             â†“
    â”‚             â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”˜
    â”‚      â†“
    â”‚  Login Page (again)
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
           â†“      â†“
        Valid   Invalid
           â†“      â†“
        Token   Error
           â†“      â†“
        SET    Error Page
      SESSION    (error)
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PROTECTED PAGES                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Dashboard (/)
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
    â†“      â†“      â†“      â†“
Courses Flashcards Library ...
    â†“      â†“      â†“      â†“
    â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
           â†“
       Sign Out
           â†“
    SESSION DESTROYED
           â†“
    Redirect to Login
```

## Component Hierarchy

```
Root Layout (with SessionProvider)
â”‚
â”œâ”€â”€â”€ Home (Public)
â”‚    â””â”€â”€â”€ Navbar
â”‚    â””â”€â”€â”€ Hero Section
â”‚    â””â”€â”€â”€ Features Grid
â”‚
â”œâ”€â”€â”€ Auth Pages (Public)
â”‚    â”œâ”€â”€â”€ /auth/login
â”‚    â”‚    â””â”€â”€â”€ LoginForm
â”‚    â”‚    â””â”€â”€â”€ ErrorDisplay
â”‚    â”‚    â””â”€â”€â”€ Link to Register
â”‚    â”‚
â”‚    â”œâ”€â”€â”€ /auth/register
â”‚    â”‚    â””â”€â”€â”€ RegisterForm
â”‚    â”‚    â””â”€â”€â”€ Validation
â”‚    â”‚    â””â”€â”€â”€ ErrorDisplay
â”‚    â”‚
â”‚    â””â”€â”€â”€ /auth/error
â”‚         â””â”€â”€â”€ ErrorDisplay
â”‚         â””â”€â”€â”€ ActionButtons
â”‚
â””â”€â”€â”€ Protected Pages (Authenticated Only)
     â”œâ”€â”€â”€ /dashboard
     â”‚    â””â”€â”€â”€ Navbar
     â”‚    â””â”€â”€â”€ KPI Cards
     â”‚    â””â”€â”€â”€ Activity Section
     â”‚
     â”œâ”€â”€â”€ /courses
     â”‚    â””â”€â”€â”€ Navbar
     â”‚    â””â”€â”€â”€ CoursesList
     â”‚
     â”œâ”€â”€â”€ /flashcards
     â”‚    â””â”€â”€â”€ Navbar
     â”‚    â””â”€â”€â”€ FlashcardsList
     â”‚
     â””â”€â”€â”€ /library
          â””â”€â”€â”€ Navbar
          â””â”€â”€â”€ ResourcesList
```

## Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User visits /        â”‚
â”‚   (Home Page)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Check Session â”‚
    â”‚   Middleware   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â†“                  â†“
        âœ… Has Session    âŒ No Session
             â”‚                  â”‚
             â†“                  â†“
        Can access all    Can access public
        protected routes   pages only
             â”‚                  â”‚
             â†“                  â†“
        Go to               Show Login
        Dashboard           Button
             â”‚                  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  User Clicks Login   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Navigate to           â”‚
         â”‚  /auth/login           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Enter Credentials     â”‚
         â”‚  - Email               â”‚
         â”‚  - Password            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Submit Form           â”‚
         â”‚  (signIn() called)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Backend Validates     â”‚
         â”‚  - Check Email         â”‚
         â”‚  - Verify Password     â”‚
         â”‚  - Return JWT Token    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                        â†“
    âœ… Valid              âŒ Invalid
    Token                 Credentials
         â”‚                        â”‚
         â†“                        â†“
    Store in            Show Error
    Session             Message
         â”‚                        â”‚
         â†“                        â†“
    Redirect to         Stay on
    /dashboard          Login Page
         â”‚
         â†“
    âœ… Authenticated
    âœ… Can Access All Routes
```

## Protected Routes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        PROTECTED ROUTES                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /dashboard          â† KPI & Activity  â”‚
â”‚  /courses            â† Course List     â”‚
â”‚  /flashcards         â† Flashcard Mgmt  â”‚
â”‚  /library            â† Resources       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Access Rules:
âœ… Authenticated User    â†’ ALLOWED
âŒ Unauthenticated User â†’ REDIRECT to /auth/login
```

## Page Styling Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COLOR PALETTE                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Primary (Medical Blue)                                         â”‚
â”‚  â”œâ”€ Primary-600: #2563EB (Main buttons, links)                 â”‚
â”‚  â”œâ”€ Primary-50: #EFF6FF (Backgrounds, cards)                   â”‚
â”‚  â””â”€ Primary-900: #1E3A8A (Dark text, borders)                  â”‚
â”‚                                                                 â”‚
â”‚  Success (Green)                                                â”‚
â”‚  â”œâ”€ Success-600: #16A34A (Success states)                      â”‚
â”‚  â””â”€ Success-50: #F0FDF4 (Success backgrounds)                  â”‚
â”‚                                                                 â”‚
â”‚  Warning (Amber)                                                â”‚
â”‚  â”œâ”€ Warning-600: #D97706 (Warnings)                            â”‚
â”‚  â””â”€ Warning-50: #FFFBEB (Warning backgrounds)                  â”‚
â”‚                                                                 â”‚
â”‚  Danger (Red)                                                   â”‚
â”‚  â”œâ”€ Danger-600: #DC2626 (Errors, delete)                       â”‚
â”‚  â””â”€ Danger-50: #FEF2F2 (Error backgrounds)                     â”‚
â”‚                                                                 â”‚
â”‚  Info (Blue)                                                    â”‚
â”‚  â”œâ”€ Info-600: #0284C7 (Info messages)                          â”‚
â”‚  â””â”€ Info-50: #F0F9FF (Info backgrounds)                        â”‚
â”‚                                                                 â”‚
â”‚  Neutral (Grays)                                                â”‚
â”‚  â”œâ”€ Neutral-900: #111827 (Text, dark)                          â”‚
â”‚  â”œâ”€ Neutral-600: #4B5563 (Secondary text)                      â”‚
â”‚  â”œâ”€ Neutral-300: #D1D5DB (Borders)                             â”‚
â”‚  â””â”€ Neutral-50: #F9FAFB (Light backgrounds)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dark Mode:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  All colors have dark variants (e.g., dark:bg-neutral-900)     â”‚
â”‚  Automatically applied when class 'dark' on <html>             â”‚
â”‚  Colors inverted for readability                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Structure Map

```
frontend/
â”‚
â”œâ”€â”€ ğŸ“„ auth.ts ........................ Next-Auth Configuration
â”‚   â”œâ”€ Credentials Provider
â”‚   â”œâ”€ JWT Session
â”‚   â”œâ”€ Custom Pages
â”‚   â””â”€ Token Handling
â”‚
â”œâ”€â”€ ğŸ“„ middleware.ts ................. Route Protection
â”‚   â”œâ”€ Protected Routes List
â”‚   â”œâ”€ Auth Checks
â”‚   â””â”€ Redirects
â”‚
â”œâ”€â”€ ğŸ“ app/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx ................ Root Layout
â”‚   â”‚   â””â”€ SessionProvider Wrapper
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ page.tsx ................. Home Page
â”‚   â”‚   â”œâ”€ Hero Section
â”‚   â”‚   â”œâ”€ Features Grid
â”‚   â”‚   â””â”€ CTA Buttons
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ auth/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx ......... Login Page
â”‚   â”‚   â”‚       â”œâ”€ Email Input
â”‚   â”‚   â”‚       â”œâ”€ Password Input
â”‚   â”‚   â”‚       â”œâ”€ Error Display
â”‚   â”‚   â”‚       â”œâ”€ Submit Button
â”‚   â”‚   â”‚       â””â”€ Register Link
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx ......... Register Page
â”‚   â”‚   â”‚       â”œâ”€ Name Input
â”‚   â”‚   â”‚       â”œâ”€ Email Input
â”‚   â”‚   â”‚       â”œâ”€ Password Input
â”‚   â”‚   â”‚       â”œâ”€ Confirm Password
â”‚   â”‚   â”‚       â”œâ”€ Validation
â”‚   â”‚   â”‚       â””â”€ Login Link
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ error/
â”‚   â”‚       â””â”€â”€ ğŸ“„ page.tsx ......... Error Page
â”‚   â”‚           â”œâ”€ Error Display
â”‚   â”‚           â”œâ”€ Error Code
â”‚   â”‚           â””â”€ Action Buttons
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ api/auth/
â”‚   â”‚   â”œâ”€â”€ [...nextauth]/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ route.ts ........ Auth Handler
â”‚   â”‚   â”‚       â””â”€ All Auth Endpoints
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚       â””â”€â”€ ğŸ“„ route.ts ........ Register Endpoint
â”‚   â”‚           â”œâ”€ Input Validation
â”‚   â”‚           â”œâ”€ Backend Call
â”‚   â”‚           â””â”€ User Response
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/
â”‚   â”‚   â””â”€â”€ ğŸ“„ Navbar.tsx .......... Navigation Bar
â”‚   â”‚       â”œâ”€ Logo/Brand
â”‚   â”‚       â”œâ”€ Navigation Links
â”‚   â”‚       â”œâ”€ User Info
â”‚   â”‚       â””â”€ Sign Out Button
â”‚   â”‚
â”‚   â””â”€â”€ dashboard/
â”‚       â””â”€â”€ ğŸ“„ page.tsx ............ Dashboard (Protected)
â”‚           â”œâ”€ User Greeting
â”‚           â”œâ”€ KPI Cards
â”‚           â”œâ”€ Activity Section
â”‚           â””â”€ Quick Stats
â”‚
â”œâ”€â”€ ğŸ“ test/mocks/
â”‚   â”œâ”€â”€ ğŸ“„ handlers.ts ............. MSW Handlers
â”‚   â”‚   â”œâ”€ /auth/login
â”‚   â”‚   â”œâ”€ /auth/register
â”‚   â”‚   â””â”€ All API Endpoints
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ server.ts ............... MSW Server
â”‚       â””â”€ Test Setup
â”‚
â”œâ”€â”€ ğŸ“„ AUTH.md ...................... Full Documentation
â”‚   â”œâ”€ Architecture
â”‚   â”œâ”€ Security
â”‚   â”œâ”€ Customization
â”‚   â””â”€ Troubleshooting
â”‚
â””â”€â”€ ğŸ“„ IMPLEMENTATION_SUMMARY.md .... Summary of Changes
    â”œâ”€ Files Created/Modified
    â”œâ”€ Features Implemented
    â””â”€ Testing Guide
```

## Session Flow Diagram

```
LOGIN REQUEST
     â”‚
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  signIn() function   â”‚
â”‚  (next-auth)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST /auth/login            â”‚
â”‚  {                           â”‚
â”‚    email: "test@exam...",    â”‚
â”‚    password: "password123"   â”‚
â”‚  }                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend Validates           â”‚
â”‚  (Check credentials)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
      â†“          â†“
   âœ… OK    âŒ FAIL
      â”‚          â”‚
      â†“          â†“
  Return    Return
  JWT       Error
  Token     Message
      â”‚          â”‚
      â†“          â†“
  Store in  Show in
  Session   UI
      â”‚
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Session Created             â”‚
â”‚  {                           â”‚
â”‚    user: {                   â”‚
â”‚      id: "1",                â”‚
â”‚      email: "...",           â”‚
â”‚      name: "...",            â”‚
â”‚      accessToken: "jwt..."   â”‚
â”‚    }                         â”‚
â”‚  }                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Token Added to Headers      â”‚
â”‚  Authorization: Bearer jwt..â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  All API Requests            â”‚
â”‚  Include Token               â”‚
â”‚  (Auto-handled by auth.ts)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend Validates Token     â”‚
â”‚  Grants Access to Route      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Dark Mode Toggle

```
User Settings (Future Feature)
         â”‚
         â†“
    Click Toggle
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add/Remove 'dark'     â”‚
â”‚  class on <html>       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tailwind Dark Mode    â”‚
â”‚  Applies dark:* rules  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  All Components        â”‚
â”‚  Update Colors         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Mobile Responsiveness

```
DESKTOP (1024px+)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Logo  Nav Links  User  SignOutâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
â”‚ Full Width Layout            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Feature Cards (3 columns)â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLET (768px-1023px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Logo  Nav User   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ Medium Width     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Cards (2 col)â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MOBILE (< 768px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Logo  Menu   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
â”‚ Full Width   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Cards(1c)â”‚ â”‚
â”‚ â”‚ Stack    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling Flow

```
USER ACTION
     â”‚
     â†“
VALIDATION
     â”‚
  â”Œâ”€â”€â”´â”€â”€â”
  â†“     â†“
Valid Invalid
  â”‚     â”‚
  â†“     â†“
 OK  ERROR
  â”‚     â”‚
  â†“     â†“
SHOW   DISPLAY
SUCCESS ERROR
TO USER MESSAGE
```

## Security Measures

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SECURITY LAYERS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Input Validation                                â”‚
â”‚     â””â”€ Email format, password length, etc.          â”‚
â”‚                                                     â”‚
â”‚  2. CSRF Protection                                 â”‚
â”‚     â””â”€ Built-in Next-Auth protection               â”‚
â”‚                                                     â”‚
â”‚  3. Password Hashing                                â”‚
â”‚     â””â”€ Backend bcrypt (already implemented)         â”‚
â”‚                                                     â”‚
â”‚  4. Secure Cookies                                  â”‚
â”‚     â””â”€ HTTP-only, Secure, SameSite flags           â”‚
â”‚                                                     â”‚
â”‚  5. JWT Token Management                            â”‚
â”‚     â””â”€ 30-day expiry, secure signing               â”‚
â”‚                                                     â”‚
â”‚  6. Route Protection                                â”‚
â”‚     â””â”€ Middleware enforces auth                     â”‚
â”‚                                                     â”‚
â”‚  7. Session Validation                              â”‚
â”‚     â””â”€ Server-side checks                           â”‚
â”‚                                                     â”‚
â”‚  8. Secure Headers                                  â”‚
â”‚     â””â”€ CSP, X-Frame-Options, etc.                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Legend:**
- ğŸ“„ File
- ğŸ“ Directory
- âœ… Success State
- âŒ Failure State
- â†’ Flow Direction
- â”‚ Vertical Connection
- â”œ Branch
- â”” End Point

**Colors Indicated:**
- Blue = Primary/Active
- Green = Success
- Red = Error/Danger
- Gray = Neutral/Secondary

---

**Last Updated:** 2024-01-20  
**Status:** âœ… Complete & Ready
